# 1. 프로파일링 도구 사용법

## 1.1 프로파일링이란?

### 정의

시스템의 성능이 느릴 때 가장 먼저 해야 하는 작업은 병목 지점을 파악하는 것이다. Application의 속도에 문제가 있을 경우 분석하기 위한 툴로 Profiling Tool이나 APM Tool을 사용한다.

### 목적

- 코드를 최적화하고 애플리케이션 성능을 개선
- 메모리 및 CPU 사용량 및 기타 애플리케이션 수준 문제를 진단
- 성능 병목 현상을 정확히 파악

## 1.2 APM (Application Performance Monitoring)

<img src="images\APM.png" width="500" height="300"/>

### APM의 역할

APM은 마치 숙련된 의사가 환자의 건강 상태를 체크하듯, 애플리케이션의 성능을 모니터링하고, 장애를 빠르게 감지하여 대응할 수 있도록 돕는 일련의 시스템 관리 체계

### APM의 필요성

1. **개발자 관점**: 자신이 만든 코드 중, 어느 것이 느린지 파악하기 위해서
2. **운영자 관점**: 서비스에 장애가 발생하였을 때에, APM이 없디면, 어떤 부분이 장애인지 파악할 수가 없게 될 가능성이 있다.
3. **고객 관점**: 안정적이고 빠른 서비스 제공

### APM 핵심 기능

1. **실시간 모니터링**: 애플리케이션 성능에 대한 실시간 데이터와 인사이트 제공
2. **트랜잭션 추적**: 사용자 요청의 전체 경로를 추적
3. **코드 레벨 분석**: 어느 메서드가 느린지, 어느 쿼리문이 느린지 파악
4. **알림 시스템**: 성능 임계값 초과 시 즉시 알림

### 주요 APM 도구

- **국산**: 미소 정보사의 WebTune, 케이와이즈사의 Pharos, 제니퍼소프트
- **외산**: New Relic, CA Wily Introscope, dynaTrace, Stackify Retrace

## 1.3 프로파일링 도구 활용

### Visual Studio 프로파일러

```
디버그 > 성능 프로파일러 (Alt + F2)
```

#### 주요 기능

- CPU 사용량 분석
- 메모리 사용량 추적
- .NET 카운터 모니터링
- BenchmarkDotNet 연동

### Android 프로파일러

```
View > Tool Windows > Profiler
```

#### 제공 기능

- CPU 프로파일러: 런타임 성능 문제 추적
- 메모리 프로파일러: 메모리 할당 추적
- 에너지 프로파일러: 배터리 소모 분석

### 성능 측정 도구

1. 시스템 레벨: Process Monitor, 성능 모니터(perfmon)
2. 애플리케이션 레벨: APM 솔루션
3. 코드 레벨: IDE 내장 프로파일러

## 핵심 요약

### 프로파일링과 APM

- 목적: 병목 지점 식별과 성능 최적화
- 도구 선택: 개발 환경용 vs 운영 환경용
- 측정 범위: 코드 레벨 → 애플리케이션 레벨 → 시스템 레벨
