# 3. 명령어 집합 구조 (ISA - Instruction Set Architecture)

## 3.1 ISA의 정의와 역할

<img src="images\ISA 구조.png" width="500" height="350"/>

**ISA**는 CPU가 이해하고 실행할 수 있는 **명령어들의 집합**으로, 하드웨어와 소프트웨어 사이의 **인터페이스 역할**을 합니다.

### ISA가 정의하는 요소들

1. **명령어 형식**: 명령어의 구조와 인코딩 방식
2. **데이터 타입**: 지원하는 데이터 형태 (정수, 실수 등)
3. **레지스터**: 사용 가능한 레지스터 종류와 개수
4. **5주소 지정 방식**: 메모리 접근 방법
5. **메모리 모델**: 메모리 구조와 관리 방식

### 주요 명령어 분류

- **산술논리 명령어**: add, sub, and, or 등
- **데이터 전송 명령어**: load, store, move 등
- **제어 명령어**: jump, branch, call 등
- **입출력 명령어**: 장치와의 데이터 교환

## 3.2 CISC (Complex Instruction Set Computer)

<img src="images\CISC 구조.jpg" width="500" height="350"/>

### 핵심 특징

- **복잡한 명령어**: 한 명령어로 여러 작업 수행
- **가변 길이**: 명령어 길이가 1~15바이트로 다양
- **풍부한 주소 지정**: 5-20가지 주소 지정 모드
- **마이크로코드**: 복잡한 명령어를 소프트웨어로 구현

### 대표적인 CISC 예시

```assembly
MOVS  ; 문자열 복사를 한 명령어로 처리
LOOP  ; 반복문을 한 명령어로 구현
```

### 주요 특징

- **메모리 연산**: 메모리↔메모리 직접 연산 가능
- **복합 연산**: 한 명령어에 여러 오퍼랜드 사용
- **호환성**: 이전 세대 명령어 계속 지원

### 장점

- **프로그래밍 편의성**: 고급 언어와 유사한 명령어
- **코드 밀도**: 적은 명령어로 많은 작업 가능
- **하위 호환성**: 기존 소프트웨어 자산 보호

### 단점

- **복잡한 디코더**: 명령어 해석에 많은 클럭 소요
- **파이프라인 비효율**: 가변 길이로 인한 파이프라인 stall
- **전력 소모**: 복잡한 회로로 인한 높은 전력

### 주요 사용 분야

- **데스크톱 PC**: Intel x86, AMD x64
- **서버**: Intel Xeon, AMD EPYC
- **범용 컴퓨팅**: 호환성이 중요한 환경

## 3.3 RISC (Reduced Instruction Set Computer)

<img src="images\RISC 구조.jpg" width="500" height="350"/>

### 핵심 특징

- **단순한 명령어**: 기본적이고 자주 사용되는 명령어만 포함
- **고정 길이**: 모든 명령어가 32비트로 동일
- **Load/Store 구조**: 메모리 접근은 load/store로만 제한
- **하드와이어드**: 하드웨어로 직접 구현

### RISC 설계 원칙

1. **80-20 법칙**: 20%의 명령어가 80%의 시간 사용
2. **단순성**: 복잡한 작업은 소프트웨어가 담당
3. **정규화**: 모든 명령어를 1클럭에 실행
4. **레지스터 활용**: 많은 범용 레지스터 제공

### 대표적인 RISC 예시

```assembly
ADD  R1, R2, R3    ; R1 = R2 + R3 (1클럭)
LOAD R1, 100(R2)   ; R1 = Memory[R2+100]
STORE R1, 200(R3)  ; Memory[R3+200] = R1
```

### 장점

- **파이프라인 최적화**: 고정 길이로 효율적 파이프라인
- **빠른 실행**: 단순한 명령어로 빠른 처리
- **저전력**: 단순한 회로로 전력 효율성
- **컴파일러 친화적**: 최적화가 용이

### 단점

- **코드 크기**: 더 많은 명령어 필요로 코드 증가
- **메모리 대역폭**: 더 많은 명령어 fetch 필요
- **프로그래밍 복잡성**: 저수준 프로그래밍 필요

### 주요 사용 분야

- **모바일**: ARM Cortex (스마트폰, 태블릿)
- **임베디드**: MIPS, ARM Cortex-M
- **고성능**: Apple M1/M2, AWS Graviton

### CISC vs RISC 상세 비교

| 특성            | CISC              | RISC             |
| --------------- | ----------------- | ---------------- |
| **명령어 개수** | 수백~수천 개      | 30~100개         |
| **명령어 길이** | 가변 (1~15바이트) | 고정 (32비트)    |
| **실행 시간**   | 1~수십 클럭       | 1클럭            |
| **파이프라인**  | 복잡, 비효율적    | 단순, 효율적     |
| **메모리 접근** | 다양한 방식       | Load/Store만     |
| **레지스터**    | 적음 (8~16개)     | 많음 (32개 이상) |
| **전력 소모**   | 높음              | 낮음             |
| **코드 밀도**   | 높음              | 낮음             |
| **설계 복잡도** | 매우 복잡         | 단순             |
| **주요 용도**   | 데스크톱, 서버    | 모바일, 임베디드 |
